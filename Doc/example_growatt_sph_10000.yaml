[..configuration or mqtt.yaml..] 


mqtt:
  sensor:
    - state_topic: "energy/solar"
      unique_id: "growatt_total_production"
      name: "Growatt. Energy Total"
      unit_of_measurement: "kWh"
      value_template: "{{ float(value_json.TotalGenerateEnergy) | round(1) }}"
      device_class: energy
      state_class: total_increasing
      json_attributes_topic: "energy/solar"
      payload_available: "5"
      availability_mode: latest
      availability_topic: "energy/solar"
      availability_template: "{{ value_json.InverterStatus }}"

    - name: "Growatt TodayGenerateEnergy"
      unique_id: "growatt_TodayGenerateEnergy"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.TodayGenerateEnergy }}"  
      
    - name: "Growatt PV1EnergyToday"
      unique_id: "growatt_PV1EnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV1EnergyToday }}"  
      
    - name: "Growatt PV2EnergyToday"
      unique_id: "growatt_PV2EnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV2EnergyToday }}"  
      
    - name: "Growatt PV1EnergyTotal"
      unique_id: "growatt_PV1EnergyTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV1EnergyTotal }}"  
      
    - name: "Growatt PV2EnergyTotal"
      unique_id: "growatt_PV2EnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV2EnergyToday }}"  

    - name: "Growatt PVEnergyTotal"
      unique_id: "growatt_PVEnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PVEnergyTotal }}"  

    - name: "Growatt Status"
      unique_id: "growatt_status"
      state_topic: "energy/solar"
      value_template: "{{ value_json.InverterStatus }}"

    - name: "Growatt INVPowerToLocalLoadTotal"
      unique_id: "growatt_INVPowerToLocalLoadTotal"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.INVPowerToLocalLoadTotal }}"

    - name: "Growatt PVInputPower"
      unique_id: "growatt_PVInputPower"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.InputPower }}"

    - name: "Growatt PV1InputPower"
      unique_id: "growatt_PV1InputPower"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV1InputPower }}"
      
    - name: "Growatt PV2InputPower"
      unique_id: "growatt_PV2InputPower"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV2InputPower }}"

    - name: "Growatt PV1Voltage"
      unique_id: "growatt_PV1Voltage"
      unit_of_measurement: "V"
      state_class: "measurement"
      device_class: "voltage"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV1Voltage }}"        

    - name: "Growatt PV2Voltage"
      unique_id: "growatt_PV2Voltage"
      unit_of_measurement: "V"
      state_class: "measurement"
      device_class: "voltage"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV2Voltage }}"    
      
    - name: "Growatt PV1InputCurrent"
      unique_id: "growatt_PV1InputCurrent"
      unit_of_measurement: "A"
      state_class: "measurement"
      device_class: "current"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV1InputCurrent }}"        

    - name: "Growatt PV2InputCurrent"
      unique_id: "growatt_PV2InputCurrent"
      unit_of_measurement: "A"
      state_class: "measurement"
      device_class: "current"
      state_topic: "energy/solar"
      value_template: "{{ value_json.PV2InputCurrent }}"    
  
    - name: "Growatt OutputPower"
      unique_id: "growatt_OutputPower"
      unit_of_measurement: "W"
      state_class: "measurement"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.OutputPower }}"              
     
    - name: "Growatt GridFrequency"
      unique_id: "growatt_GridFrequency"
      unit_of_measurement: "Hz"
      state_class: "measurement"
      state_topic: "energy/solar"
      device_class: "frequency"
      value_template: "{{ value_json.GridFrequency }}"  

    - name: "Growatt InverterTemperature"
      unique_id: "growatt_InverterTemperature"
      unit_of_measurement: "C"
      state_class: "measurement"
      device_class: "temperature"
      state_topic: "energy/solar"
      value_template: "{{ value_json.InverterTemperature }}"      
     
    - name: "Growatt DischargePower"
      unique_id: "growatt_DischargePower"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.DischargePower }}"

    - name: "Growatt ChargePower"
      unique_id: "growatt_ChargePower"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.ChargePower }}" 
      
    - name: "Growatt BatteryVoltage"
      unique_id: "growatt_BatteryVoltage"
      unit_of_measurement: "V"
      state_class: "measurement"
      device_class: "voltage"
      state_topic: "energy/solar"
      value_template: "{{ value_json.BatteryVoltage }}"   

    - name: "Growatt SOC"
      unique_id: "growatt_SOC"
      unit_of_measurement: "%"
      state_class: "measurement"
      device_class: "BATTERY"
      state_topic: "energy/solar"
      value_template: "{{ value_json.SOC }}"  
      
    - name: "Growatt INVPowerToLocalLoad"
      unique_id: "growatt_INVPowerToLocalLoad"
      unit_of_measurement: "W"
      device_class: "power"
      state_topic: "energy/solar"
      value_template: "{{ value_json.INVPowerToLocalLoad }}" 

    - name: "Growatt BatteryTemperature"
      unique_id: "growatt_BatteryTemperature"
      unit_of_measurement: "C"
      state_class: "measurement"
      device_class: "temperature"
      state_topic: "energy/solar"
      value_template: "{{ value_json.BatteryTemperature | multiply(0.1) | round(2) }}"  

    - name: "Growatt EnergyToUserToday"
      unique_id: "growatt_EnergyToUserToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.EnergyToUserToday }}"  

    - name: "Growatt EnergyToUserTotal"
      unique_id: "growatt_EnergyToUserTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.EnergyToUserTotal }}"  


    - name: "Growatt EnergyToGridToday"
      unique_id: "growatt_EnergyToGridToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.EnergyToGridToday }}"  

    - name: "Growatt EnergyToGridTotal"
      unique_id: "growatt_EnergyToGridTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.EnergyToGridTotal }}"  

    - name: "Growatt DischargeEnergyToday"
      unique_id: "growatt_DischargeEnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.DischargeEnergyToday }}"  

    - name: "Growatt DischargeEnergyTotal"
      unique_id: "growatt_DischargeEnergyTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.DischargeEnergyTotal }}"  

    - name: "Growatt ChargeEnergyToday"
      unique_id: "growatt_ChargeEnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.ChargeEnergyToday }}"  

    - name: "Growatt ChargeEnergyTotal"
      unique_id: "growatt_ChargeEnergyTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.ChargeEnergyTotal }}"  

    - name: "Growatt LocalLoadEnergyToday"
      unique_id: "growatt_LocalLoadEnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.LocalLoadEnergyToday }}"  

    - name: "Growatt LocalLoadEnergyTotal"
      unique_id: "growatt_LocalLoadEnergyTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.LocalLoadEnergyTotal }}"  

    - name: "Growatt ACChargeEnergyToday"
      unique_id: "growatt_ACChargeEnergyToday"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.ACChargeEnergyToday }}"  

    - name: "Growatt ACChargeEnergyTotal"
      unique_id: "growatt_ACChargeEnergyTotal"
      unit_of_measurement: "kWh"
      state_class: "total_increasing"
      device_class: "energy"
      state_topic: "energy/solar"
      value_template: "{{ value_json.ACChargeEnergyTotal }}"  
